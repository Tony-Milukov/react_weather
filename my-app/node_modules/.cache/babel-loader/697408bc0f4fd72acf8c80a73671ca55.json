{"ast":null,"code":"import _objectSpread from\"C:/Users/Tony/Documents/GitHub/react_weather/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/Tony/Documents/GitHub/react_weather/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Tony/Documents/GitHub/react_weather/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Tony/Documents/GitHub/react_weather/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Tony/Documents/GitHub/react_weather/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import Card from'../Card/Card';import{avaibleCities}from\"../../availableCities/avaibleCities\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var defaultCity=\"Klagenfurt\";var WeekContainer=/*#__PURE__*/function(_React$Component){_inherits(WeekContainer,_React$Component);var _super=_createSuper(WeekContainer);function WeekContainer(){var _this;_classCallCheck(this,WeekContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={days:[],city:defaultCity,weatherURL:\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(defaultCity,\"&lang=en&units=metric&APPID=79cce12f32339641751ec2b2c1ccfc2f\"),isChoosed:false};_this.componentDidMount=function(i){fetch(i?i:_this.state.weatherURL).then(function(res){return res.json();}).then(function(data){var dailyData=data.list.filter(function(reading){return reading.dt_txt.includes(\"12:00:00\");});_this.setState({days:dailyData});});};_this.formatCards=function(){return _this.state.days.map(function(day,index){return/*#__PURE__*/_jsx(Card,{day:day},index);});};_this.inputstate=function(e){var weatherURL=\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(e.target.value,\"&lang=en&units=metric&APPID=79cce12f32339641751ec2b2c1ccfc2f\");console.log(e.target.value);_this.setState(_objectSpread(_objectSpread({},_this.state),{},{city:e.target.value,weatherURL:weatherURL}));_this.setState(_objectSpread(_objectSpread({},_this.state),{},{isChoosed:true}));_this.componentDidMount(weatherURL);};return _this;}_createClass(WeekContainer,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4 jumbotron\",children:\"Weather forecast for 5 days\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"cityInput\",onChange:this.inputstate,onSelect:this.inputstate,children:[!this.state.isChoosed?/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose your City  \"}):null,avaibleCities.map(function(i){return/*#__PURE__*/_jsxs(\"option\",{value:i.city,children:[i.name,\" \"]});})]}),this.state.isChoosed?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:this.formatCards()})}):null]});}}]);return WeekContainer;}(React.Component);export default WeekContainer;","map":{"version":3,"names":["React","Card","avaibleCities","defaultCity","WeekContainer","state","days","city","weatherURL","isChoosed","componentDidMount","i","fetch","then","res","json","data","dailyData","list","filter","reading","dt_txt","includes","setState","formatCards","map","day","index","inputstate","e","target","value","console","log","name","Component"],"sources":["C:/Users/Tony/Documents/GitHub/react_weather/my-app/src/components/WeekContainer/WeekContainer.js"],"sourcesContent":["import React from 'react';\nimport Card from '../Card/Card';\nimport {avaibleCities} from \"../../availableCities/avaibleCities\";\n\nconst defaultCity = \"Klagenfurt\"\nclass WeekContainer extends React.Component {\n  state = {\n    days: [],\n    city: defaultCity,\n    weatherURL: `https://api.openweathermap.org/data/2.5/forecast?q=${defaultCity}&lang=en&units=metric&APPID=79cce12f32339641751ec2b2c1ccfc2f`,\n    isChoosed: false,\n  }\n\n  componentDidMount = (i) => {\n    fetch(i ? i : this.state.weatherURL)\n    .then(res => res.json())\n\n    .then(data => {\n      const dailyData = data.list.filter(reading => reading.dt_txt.includes(\"12:00:00\"))\n      this.setState({days: dailyData})\n    })\n  }\n\n  formatCards = () => {\n    return this.state.days.map((day, index) => <Card day={day} key={index}/>)\n  }\n  inputstate = (e) => {\n    let weatherURL  = `https://api.openweathermap.org/data/2.5/forecast?q=${e.target.value}&lang=en&units=metric&APPID=79cce12f32339641751ec2b2c1ccfc2f`\n    console.log(e.target.value)\n    this.setState({...this.state,city: e.target.value,\n      weatherURL: weatherURL\n    })\n        this.setState({\n          ...this.state,\n          isChoosed: true\n        })\n    this.componentDidMount(weatherURL)\n\n\n\n  }\n\n  render() {\n    return (\n      <div className=\"\">\n        <h1 className=\"display-4 jumbotron\">Weather forecast for 5 days</h1>\n        {/*<h1>{this.state.city === \"\" ? defaultCity : !this.state.error ? this.state.city : `There is no ${this.state.city} city`}</h1>*/}\n        {/*<input className={\"cityInput\"} onInput={this.inputstate} type=\"text\"/>*/}\n        <select className={\"cityInput\"} onChange={this.inputstate} onSelect={this.inputstate}>\n          {!this.state.isChoosed ? <option value=\"\">Choose your City  </option> : null}\n          {avaibleCities.map(i => <option value={i.city}>{i.name} </option>)}\n        </select>\n        {this.state.isChoosed ?  <>\n          <div className=\"row justify-content-center\">\n\n            {this.formatCards()}\n\n          </div></> : null}\n      </div>\n    )\n  }\n}\n\nexport default WeekContainer\n"],"mappings":"4pBAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,KAAP,KAAiB,cAAjB,CACA,OAAQC,aAAR,KAA4B,qCAA5B,C,6IAEA,GAAMC,YAAW,CAAG,YAApB,C,GACMC,c,mWACJC,K,CAAQ,CACNC,IAAI,CAAE,EADA,CAENC,IAAI,CAAEJ,WAFA,CAGNK,UAAU,8DAAwDL,WAAxD,gEAHJ,CAINM,SAAS,CAAE,KAJL,C,OAORC,iB,CAAoB,SAACC,CAAD,CAAO,CACzBC,KAAK,CAACD,CAAC,CAAGA,CAAH,CAAO,MAAKN,KAAL,CAAWG,UAApB,CAAL,CACCK,IADD,CACM,SAAAC,GAAG,QAAIA,IAAG,CAACC,IAAJ,EAAJ,EADT,EAGCF,IAHD,CAGM,SAAAG,IAAI,CAAI,CACZ,GAAMC,UAAS,CAAGD,IAAI,CAACE,IAAL,CAAUC,MAAV,CAAiB,SAAAC,OAAO,QAAIA,QAAO,CAACC,MAAR,CAAeC,QAAf,CAAwB,UAAxB,CAAJ,EAAxB,CAAlB,CACA,MAAKC,QAAL,CAAc,CAACjB,IAAI,CAAEW,SAAP,CAAd,EACD,CAND,EAOD,C,OAEDO,W,CAAc,UAAM,CAClB,MAAO,OAAKnB,KAAL,CAAWC,IAAX,CAAgBmB,GAAhB,CAAoB,SAACC,GAAD,CAAMC,KAAN,qBAAgB,KAAC,IAAD,EAAM,GAAG,CAAED,GAAX,EAAqBC,KAArB,CAAhB,EAApB,CAAP,CACD,C,OACDC,U,CAAa,SAACC,CAAD,CAAO,CAClB,GAAIrB,WAAU,8DAA0DqB,CAAC,CAACC,MAAF,CAASC,KAAnE,gEAAd,CACAC,OAAO,CAACC,GAAR,CAAYJ,CAAC,CAACC,MAAF,CAASC,KAArB,EACA,MAAKR,QAAL,gCAAkB,MAAKlB,KAAvB,MAA6BE,IAAI,CAAEsB,CAAC,CAACC,MAAF,CAASC,KAA5C,CACEvB,UAAU,CAAEA,UADd,IAGI,MAAKe,QAAL,gCACK,MAAKlB,KADV,MAEEI,SAAS,CAAE,IAFb,IAIJ,MAAKC,iBAAL,CAAuBF,UAAvB,EAID,C,+DAED,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,EAAf,wBACE,WAAI,SAAS,CAAC,qBAAd,yCADF,cAIE,gBAAQ,SAAS,CAAE,WAAnB,CAAgC,QAAQ,CAAE,KAAKoB,UAA/C,CAA2D,QAAQ,CAAE,KAAKA,UAA1E,WACG,CAAC,KAAKvB,KAAL,CAAWI,SAAZ,cAAwB,eAAQ,KAAK,CAAC,EAAd,gCAAxB,CAAuE,IAD1E,CAEGP,aAAa,CAACuB,GAAd,CAAkB,SAAAd,CAAC,qBAAI,gBAAQ,KAAK,CAAEA,CAAC,CAACJ,IAAjB,WAAwBI,CAAC,CAACuB,IAA1B,OAAJ,EAAnB,CAFH,GAJF,CAQG,KAAK7B,KAAL,CAAWI,SAAX,cAAwB,sCACvB,YAAK,SAAS,CAAC,4BAAf,UAEG,KAAKe,WAAL,EAFH,EADuB,EAAxB,CAKa,IAbhB,GADF,CAiBD,C,2BAvDyBxB,KAAK,CAACmC,S,EA0DlC,cAAe/B,cAAf"},"metadata":{},"sourceType":"module"}